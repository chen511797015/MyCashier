package com.pax.e820.activity;import android.annotation.SuppressLint;import android.app.Activity;import android.content.ComponentName;import android.content.Intent;import android.os.Bundle;import android.util.Log;import android.view.View;import android.view.View.OnClickListener;import android.view.Window;import android.widget.Button;import android.widget.ImageView;import android.widget.TextView;import android.widget.Toast;import com.pax.e820.R;import com.pax.e820.utils.Utils;public class ActivityPayType extends Activity implements OnClickListener {	private ImageView iv_back;	private TextView tv_price;	private double price;	private Button btn_weixin, btn_yinhang, btn_zhifubao;	@SuppressLint("ResourceAsColor")	@Override	protected void onCreate(Bundle savedInstanceState) {		// TODO Auto-generated method stub		super.onCreate(savedInstanceState);		// 修改状态栏颜色		Utils.setWindowStatusBarColor(ActivityPayType.this, R.color.blue);		// 去掉标题栏		requestWindowFeature(Window.FEATURE_NO_TITLE);		setContentView(R.layout.activity_pay_type);		initView();		bindData();		bindListener();	}	private void bindListener() {		// TODO Auto-generated method stub		iv_back.setOnClickListener(this);		btn_weixin.setOnClickListener(this);		btn_yinhang.setOnClickListener(this);		btn_zhifubao.setOnClickListener(this);	}	private void bindData() {		// TODO Auto-generated method stub		price = getIntent().getDoubleExtra("price", 0);		tv_price.setText(getResources().getString(R.string.total_amount) + " ¥"				+ price);	}	private void initView() {		// TODO Auto-generated method stub		iv_back = (ImageView) findViewById(R.id.iv_back);		tv_price = (TextView) findViewById(R.id.tv_price);		btn_weixin = (Button) findViewById(R.id.btn_weixin);		btn_yinhang = (Button) findViewById(R.id.btn_yinhang);		btn_zhifubao = (Button) findViewById(R.id.btn_zhifubao);	}	@Override	protected void onActivityResult(int requestCode, int resultCode, Intent data) {		// TODO Auto-generated method stub		if (requestCode == 1 && data != null) {			String info = data.getStringExtra("info");			String number = data.getStringExtra("number");			int code = data.getIntExtra("code", 0);			Intent intent = new Intent();			intent.putExtra("info", info);			intent.putExtra("code", code);			if (number != null && !"".equals(number)) {				Log.i("iii", "card---" + number);				intent.putExtra("number", number);			}			setResult(RESULT_OK, intent);			finish();		}	}	@Override	public void onClick(View v) {		// TODO Auto-generated method stub		switch (v.getId()) {		case R.id.iv_back:			finish();			break;		case R.id.btn_yinhang:			// 调用支付插件			if (price > 0) {				ComponentName componetName = new ComponentName(				// 这个是另外一个应用程序的包名						"com.pax.d820",						// 这个参数是要启动的Activity						"com.pax.d820.activity.ActivityDevManage");				Intent intent = new Intent();				// 我们给他添加一个参数表示从apk1传过去的				Bundle bundle = new Bundle();				bundle.putString("amount", price + "");				bundle.putString("type", "sale");				intent.putExtras(bundle);				intent.setComponent(componetName);				startActivityForResult(intent, 1);			} else {				Toast.makeText(ActivityPayType.this, "金额必须大于0", 200).show();			}			break;		default:			break;		}	}}